#ifndef KEYMAP_H
#define KEYMAP_H

#include <stdint.h>

// ISO 8859-2
#define A_OGONEK_LOWER 0xB1
#define A_OGONEK_UPPER 0xA1
#define C_KRESKA_LOWER 0xE6
#define C_KRESKA_UPPER 0xC6
#define E_OGONEK_LOWER 0xEA
#define E_OGONEK_UPPER 0xCA
#define L_KRESKA_LOWER 0xB3
#define L_KRESKA_UPPER 0xA3
#define N_KRESKA_LOWER 0xF1
#define N_KRESKA_UPPER 0xD1
#define O_KRESKA_LOWER 0xF3
#define O_KRESKA_UPPER 0xD3
#define S_KRESKA_LOWER 0xB6
#define S_KRESKA_UPPER 0xA6
#define Z_KRESKA_LOWER 0xBC
#define Z_KRESKA_UPPER 0xAC
#define Z_KROPKA_LOWER 0xBF
#define Z_KROPKA_UPPER 0xAF
#define SECTION_SIGN 0xA7
#define DEGREE_SIGN 0xB0
#define BACKSPACE 0x08

static uint8_t const keycode2iso[128][4] = {
    {0, 0, 0, 0},                               /* 0x00 */
    {0, 0, 0, 0},                               /* 0x01 */
    {0, 0, 0, 0},                               /* 0x02 */
    {0, 0, 0, 0},                               /* 0x03 */
    {'a', 'A', A_OGONEK_LOWER, A_OGONEK_UPPER}, /* 0x04 */
    {'b', 'B', 'b', 'B'},                       /* 0x05 */
    {'c', 'C', C_KRESKA_LOWER, C_KRESKA_UPPER}, /* 0x06 */
    {'d', 'D', 'd', 'D'},                       /* 0x07 */
    {'e', 'E', E_OGONEK_LOWER, E_OGONEK_UPPER}, /* 0x08 */
    {'f', 'F', 'f', 'F'},                       /* 0x09 */
    {'g', 'G', 'g', 'G'},                       /* 0x0a */
    {'h', 'H', 'h', 'H'},                       /* 0x0b */
    {'i', 'I', 'i', 'I'},                       /* 0x0c */
    {'j', 'J', 'j', 'J'},                       /* 0x0d */
    {'k', 'K', 'k', 'K'},                       /* 0x0e */
    {'l', 'L', L_KRESKA_LOWER, L_KRESKA_UPPER}, /* 0x0f */
    {'m', 'M', 'm', 'M'},                       /* 0x10 */
    {'n', 'N', N_KRESKA_LOWER, N_KRESKA_UPPER}, /* 0x11 */
    {'o', 'O', O_KRESKA_LOWER, O_KRESKA_UPPER}, /* 0x12 */
    {'p', 'P', 'p', 'P'},                       /* 0x13 */
    {'q', 'Q', 'q', 'Q'},                       /* 0x14 */
    {'r', 'R', 'r', 'R'},                       /* 0x15 */
    {'s', 'S', S_KRESKA_LOWER, S_KRESKA_UPPER}, /* 0x16 */
    {'t', 'T', 't', 'T'},                       /* 0x17 */
    {'u', 'U', 'u', 'U'},                       /* 0x18 */
    {'v', 'V', 'v', 'V'},                       /* 0x19 */
    {'w', 'W', 'w', 'W'},                       /* 0x1a */
    {'x', 'X', Z_KRESKA_LOWER, Z_KRESKA_UPPER}, /* 0x1b */
    {'y', 'Y', 'y', 'Y'},                       /* 0x1c */
    {'z', 'Z', Z_KROPKA_LOWER, Z_KROPKA_UPPER}, /* 0x1d */
    {'1', '!', '1', '!'},                       /* 0x1e */
    {'2', '@', '2', '@'},                       /* 0x1f */
    {'3', '#', '3', '#'},                       /* 0x20 */
    {'4', '$', '4', '$'},                       /* 0x21 */
    {'5', '%', '5', '%'},                       /* 0x22 */
    {'6', '^', '6', '^'},                       /* 0x23 */
    {'7', '&', '7', '&'},                       /* 0x24 */
    {'8', '*', '8', '*'},                       /* 0x25 */
    {'9', '(', '9', '('},                       /* 0x26 */
    {'0', ')', '0', ')'},                       /* 0x27 */
    {'\n', '\n', '\n', '\n'},                   /* 0x28 */
    {'\x1b', '\x1b', '\x1b', '\x1b'},           /* 0x29 */
    {'\b', '\b', '\b', '\b'},                   /* 0x2a */
    {'\t', '\t', '\t', '\t'},                   /* 0x2b */
    {' ', ' ', ' ', ' '},                       /* 0x2c */
    {'-', '_', '-', '_'},                       /* 0x2d */
    {'=', '+', '=', '+'},                       /* 0x2e */
    {'[', '{', '[', '{'},                       /* 0x2f */
    {']', '}', ']', '}'},                       /* 0x30 */
    {'\\', '|', '\\', '|'},                     /* 0x31 */
    {'#', '~', '#', '~'},                       /* 0x32 */
    {';', ':', ';', ':'},                       /* 0x33 */
    {'\'', '\"', '\'', '\"'},                   /* 0x34 */
    {'`', '~', '`', '~'},                       /* 0x35 */
    {',', '<', ',', '<'},                       /* 0x36 */
    {'.', '>', '.', '>'},                       /* 0x37 */
    {'/', '?', '/', '?'},                       /* 0x38 */

    {0, 0, 0, 0}, /* 0x39 */
    {0, 0, 0, 0}, /* 0x3a */
    {0, 0, 0, 0}, /* 0x3b */
    {0, 0, 0, 0}, /* 0x3c */
    {0, 0, 0, 0}, /* 0x3d */
    {0, 0, 0, 0}, /* 0x3e */
    {0, 0, 0, 0}, /* 0x3f */
    {0, 0, 0, 0}, /* 0x40 */
    {0, 0, 0, 0}, /* 0x41 */
    {0, 0, 0, 0}, /* 0x42 */
    {0, 0, 0, 0}, /* 0x43 */
    {0, 0, 0, 0}, /* 0x44 */
    {0, 0, 0, 0}, /* 0x45 */
    {0, 0, 0, 0}, /* 0x46 */
    {0, 0, 0, 0}, /* 0x47 */
    {0, 0, 0, 0}, /* 0x48 */
    {0, 0, 0, 0}, /* 0x49 */
    {0, 0, 0, 0}, /* 0x4a */
    {0, 0, 0, 0}, /* 0x4b */
    {0, 0, 0, 0}, /* 0x4c */
    {0, 0, 0, 0}, /* 0x4d */
    {0, 0, 0, 0}, /* 0x4e */
    {0, 0, 0, 0}, /* 0x4f */
    {0, 0, 0, 0}, /* 0x50 */
    {0, 0, 0, 0}, /* 0x51 */
    {0, 0, 0, 0}, /* 0x52 */
    {0, 0, 0, 0}, /* 0x53 */

    {'/', '/', '/', '/'},     /* 0x54 */
    {'*', '*', '*', '*'},     /* 0x55 */
    {'-', '-', '-', '-'},     /* 0x56 */
    {'+', '+', '+', '+'},     /* 0x57 */
    {'\n', '\n', '\n', '\n'}, /* 0x58 */
    {'1', 0, '1', 0},         /* 0x59 */
    {'2', 0, '2', 0},         /* 0x5a */
    {'3', 0, '3', 0},         /* 0x5b */
    {'4', 0, '4', 0},         /* 0x5c */
    {'5', '5', '5', '5'},     /* 0x5d */
    {'6', 0, '6', 0},         /* 0x5e */
    {'7', 0, '7', 0},         /* 0x5f */
    {'8', 0, '8', 0},         /* 0x60 */
    {'9', 0, '9', 0},         /* 0x61 */
    {'0', 0, '0', 0},         /* 0x62 */
    {'.', 0, '.', 0},         /* 0x63 */
    {0, 0, 0, 0},             /* 0x64 */
    {0, 0, 0, 0},             /* 0x65 */
    {0, 0, 0, 0},             /* 0x66 */
    {'=', '=', '=', '='},     /* 0x67 */
};

static const uint8_t iso2erika[256][4] = {['1'] = {47},
                                          ['2'] = {45},
                                          ['3'] = {43},
                                          ['4'] = {41},
                                          ['5'] = {39},
                                          ['6'] = {37},
                                          ['7'] = {35},
                                          ['8'] = {33},
                                          ['9'] = {31},
                                          ['0'] = {29},
                                          ['!'] = {61},
                                          ['"'] = {63},
                                          [':'] = {2},
                                          ['?'] = {55},
                                          ['%'] = {51},
                                          ['+'] = {27},
                                          ['_'] = {1},
                                          ['('] = {59},
                                          [')'] = {57},
                                          ['='] = {26},
                                          ['`'] = {14, 113},
                                          [BACKSPACE] = {174},
                                          ['\''] = {118, 99, 117},
                                          ['a'] = {81},
                                          [A_OGONEK_LOWER] = {15},
                                          ['b'] = {72},
                                          ['c'] = {84},
                                          [C_KRESKA_LOWER] = {104},
                                          ['d'] = {85},
                                          ['e'] = {82},
                                          [E_OGONEK_LOWER] = {20},
                                          ['f'] = {94},
                                          ['g'] = {79},
                                          ['h'] = {91},
                                          ['i'] = {86},
                                          ['j'] = {92},
                                          ['k'] = {83},
                                          ['l'] = {88},
                                          [L_KRESKA_LOWER] = {18},
                                          ['m'] = {93},
                                          ['n'] = {77},
                                          [N_KRESKA_LOWER] = {103},
                                          ['o'] = {76},
                                          [O_KRESKA_LOWER] = {101},
                                          ['p'] = {89},
                                          ['q'] = {87},
                                          ['r'] = {80},
                                          ['s'] = {90},
                                          [S_KRESKA_LOWER] = {102},
                                          ['t'] = {78},
                                          ['u'] = {75},
                                          ['v'] = {74},
                                          ['w'] = {95},
                                          ['x'] = {73},
                                          ['y'] = {97},
                                          ['z'] = {96},
                                          [Z_KRESKA_LOWER] = {105},
                                          [Z_KROPKA_LOWER] = {24},
                                          ['.'] = {100},
                                          [','] = {99},
                                          ['-'] = {22},
                                          [' '] = {113},
                                          ['#'] = {7},
                                          ['|'] = {4},
                                          ['~'] = {25},
                                          ['$'] = {19},
                                          [DEGREE_SIGN] = {8},
                                          [';'] = {6},
                                          [SECTION_SIGN] = {49},
                                          ['*'] = {21},
                                          ['/'] = {53},
                                          ['\n'] = {119},
                                          ['\t'] = {121},
                                          ['A'] = {44},
                                          [A_OGONEK_UPPER] = {98, 44},
                                          ['B'] = {34},
                                          ['C'] = {36},
                                          [C_KRESKA_UPPER] = {14, 36},
                                          ['D'] = {38},
                                          ['E'] = {70},
                                          [E_OGONEK_UPPER] = {98, 70},
                                          ['F'] = {68},
                                          ['G'] = {42},
                                          ['H'] = {40},
                                          ['I'] = {65},
                                          ['J'] = {32},
                                          ['K'] = {66},
                                          ['L'] = {30},
                                          [L_KRESKA_UPPER] = {11},
                                          ['M'] = {56},
                                          ['N'] = {54},
                                          [N_KRESKA_UPPER] = {14, 54},
                                          ['O'] = {46},
                                          [O_KRESKA_UPPER] = {14, 46},
                                          ['P'] = {69},
                                          ['Q'] = {52},
                                          ['R'] = {28},
                                          ['S'] = {67},
                                          [S_KRESKA_UPPER] = {14, 67},
                                          ['T'] = {50},
                                          ['U'] = {48},
                                          ['V'] = {62},
                                          ['W'] = {64},
                                          ['X'] = {58},
                                          ['Y'] = {60},
                                          ['Z'] = {71},
                                          [Z_KRESKA_UPPER] = {14, 71},
                                          [Z_KROPKA_UPPER] = {23}};

#endif